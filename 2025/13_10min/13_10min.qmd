---
title: "10 Minute Map"
author: "Ana Luisa Bodevan"
description: "Plano Piloto"
image: "13_10min.png"
execute:
  warning: false
  message: false
  eval: true
format:
  html:
    code-tools: true
    code-fold: true
---

# Day 13: 10 Minute Map

| Start the timer! The maximum allowed time to design and produce this map is 10 minutes. Focus on speed, simplicity, and core communication.



### Load packages 

```{r}
library(pacman)
pacman :: p_load(tidyverse, sf, osmdata, geobr, showtext, ggtext)
```

### Get layers 

```{r}
# Get Brasília municipality
brasilia <- read_municipality(code_muni = 5300108, year = 2020)

# Get census tracts for Brasília (more detailed than neighborhoods)
bsb_tracts <- read_census_tract(code_tract = 5300108, year = 2010)

# Define Plano Piloto bounding box
plano_piloto_bbox <- st_bbox(c(xmin = -47.95, ymin = -15.85, 
                                xmax = -47.85, ymax = -15.75), 
                              crs = st_crs(bsb_tracts))

# Filter tracts within Plano Piloto
plano <- st_crop(bsb_tracts, plano_piloto_bbox)
```

### Get fonts 

```{r}
font_add_google("Inter", "inter")
showtext_auto()
```

```{r}
# Artistic map with dark theme
ggplot() +
  # Dark background layer
  geom_sf(data = brasilia, fill = "#0a0a0a", color = NA) +
  
  # Census tracts with gradient effect
  geom_sf(data = plano, aes(fill = as.numeric(code_tract)), 
          color = "#ffd700", size = 0.15, alpha = 0.9) +
  
  scale_fill_gradient(low = "#1a1a2e", high = "#0a0a0a", guide = "none") +
  
  # Zoom to Plano Piloto
  coord_sf(xlim = c(-47.95, -47.85), 
           ylim = c(-15.85, -15.75)) +
  
  # Minimal dark theme
  theme_void() +
  theme(
    plot.background = element_rect(fill = "#0a0a0a", color = NA),
    panel.background = element_rect(fill = "#0a0a0a", color = NA),
    plot.title = element_text(
      hjust = 0.5, 
      face = "bold", 
      size = 32,
      color = "#ffd700",
      family = "inter",
      margin = margin(t = 20, b = 5)
    ),
    plot.subtitle = element_text(
      hjust = 0.5,
      size = 16,
      color = "#d4af37",
      family = "inter",
      margin = margin(b = 20, t = 10)
    ),
    plot.caption = element_text(hjust = 0.5,
      size = 8,
      color = "#d4af37",
      family = "inter",
      margin = margin(t = 10)),
    plot.margin = margin(20, 20, 20, 20)
  ) +
  labs(
    title = "PLANO PILOTO",
    subtitle = "Brasília  •  15°47'S 47°55'W  •  Oscar Niemeyer",
    caption = "#30DayMapChallenge Day 13 - 10 Minute Map\nGraphic: Ana Bodevan"
  )
```