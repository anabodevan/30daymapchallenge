{
  "hash": "b9b3276270d93f66a180700170d1bae0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Points\"\nauthor: \"Ana Luisa Bodevan\"\ndescription: \"South America in Points\"\nimage: \"01_points.png\"\nexecute:\n  warning: false\n  message: false\n  eval: true\nformat:\n  html:\n    code-tools: true\n    code-fold: true\n---\n\n# Day 1: Points\n\n| Challenge Classic: Map with point data (e.g., individual locations, points of interest, clusters). Focus on effective symbolization and density visualization.\n\n### Loading libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(pacman)\npacman::p_load(tidyverse, sf, dplyr, rnaturalearth, showtext, ragg, glue)\nshowtext_auto()\n```\n:::\n\n\n### Loading and preparing data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get south america polygon\nsa <- ne_countries(continent = \"South America\", returnclass = \"sf\") |>\n  st_union() |>  # single polygon\n  st_transform(3857)  # project to meters for equal grid spacing\n\n# create a regular grid of points \ngrid_spacing <- 60000 # in meters; smaller = denser grid\ngrid <- st_make_grid(sa,\n                     what = \"centers\",\n                     cellsize = grid_spacing) |> \n  st_as_sf() |>\n  st_intersection(sa)  # keep only points inside polygon\n```\n:::\n\n\n### Colors\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# color pallete \nset.seed(123)\ngolden_palette <- c(\"#F9C74F\", \"#F8961E\", \"#F3722C\", \"#F9844A\")\ngrid$color <- sample(golden_palette, nrow(grid), replace = TRUE)\ngrid$y <- st_coordinates(grid)[, 2]\n```\n:::\n\n\n### Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data = grid, aes(color = y), size = 0.8, show.legend = FALSE) +\n\n  scale_color_gradientn(colors = golden_palette) +\n\n  coord_sf(expand = FALSE, clip = \"off\") +\n  \n  theme_void() +\n  theme(\n    plot.background = element_rect(fill = \"white\", color = NA),\n    plot.margin = margin(t = 0,  # Top margin\n                             r = 1,  # Right margin\n                             b = 0,  # Bottom margin\n                             l = 1, # Left margin\n                             unit = \"cm\"))                             \n```\n\n::: {.cell-output-display}\n![](01_points_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### Final plot\n\nLast few tweaks made on Canva\n\n![](01_points.png){fig-align=\"center\" width=\"597\"}",
    "supporting": [
      "01_points_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}